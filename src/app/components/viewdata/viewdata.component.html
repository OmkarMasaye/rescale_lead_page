<div class="fullcontainer">
  <app-home></app-home>
  <div class="container viewdata">
    <div class="search-container">
      <!-- Search input field where the user can type -->
      <input
        type="text"
        [(ngModel)]="searchText"
        placeholder="Search by..."
        class="search-input"
      />
    
      <!-- Dropdown to select search criteria (name, email, or app_id) -->
      <select [(ngModel)]="selectedField" class="search-dropdown">
        <option value="" disabled selected></option> 
        <option value="name">Name</option>
        <option value="email">Email</option>
        <option value="app_id">App ID</option>
      </select>
    
      <!-- Button to trigger the search -->
      <button (click)="onSearch()" class="search-button">Enter</button>

      <!-- Button to show all data -->
      <button (click)="showAll()" class="show-all-button">Show All</button>
    </div>
    
    <mat-paginator 
      [length]="totalRecords"
      [pageSize]="itemsPerPage"
      [pageSizeOptions]="[5, 10, 20, 50, 100, 1000]" 
      (page)="onPageChange($event)">
    </mat-paginator>
    
    <table mat-table [dataSource]="paginatedData" class="mat-elevation-z8">
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
      </ng-container>
  
      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let element"> {{ element.email }} </td>
      </ng-container>
  
      <!-- App ID Column -->
      <ng-container matColumnDef="app_id">
        <th mat-header-cell *matHeaderCellDef> App ID </th>
        <td mat-cell *matCellDef="let element"> {{ element.app_id }} </td>
      </ng-container>
  
      <!-- Created At Column -->
      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef> Created At </th>
        <td mat-cell *matCellDef="let element"> {{ element.createdAt | date }} </td>
      </ng-container>
  
      <!-- Updated At Column -->
      <ng-container matColumnDef="updatedAt">
        <th mat-header-cell *matHeaderCellDef> Updated At </th>
        <td mat-cell *matCellDef="let element"> {{ element.updatedAt | date }} </td>
      </ng-container>
  
      <!-- Header and Row Definitions -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
